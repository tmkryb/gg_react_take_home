(this.webpackJsonpgg_react_take_home=this.webpackJsonpgg_react_take_home||[]).push([[0],{52:function(e,t,a){e.exports=a(92)},57:function(e,t,a){},58:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(15),l=a.n(r),i=(a(57),a(110)),u=a(100),m=a(101),o=(a(58),a(59),a(105)),s=a(106),E=a(107),b=a(108),g=a(109),d=a(9),f=a(7),h=a(16),p=a(25),O=a.n(p),j=a(21),v=a(13),k=a(32),S=a.n(k),_=a(46);function w(e,t,a){var c=Object(n.useState)("https://api.giphy.com/v1"),r=Object(f.a)(c,1)[0],l=Object(n.useState)("JhchPz8vYFWE8wE3r3RHCcnVa2EGusXe"),i=Object(f.a)(l,1)[0],u=Object(n.useState)(!1),m=Object(f.a)(u,2),o=m[0],s=m[1],E=Object(n.useState)(a),b=Object(f.a)(E,2),g=b[0],d=b[1],h=Object(n.useState)(null),p=Object(f.a)(h,2),O=p[0],j=p[1];function k(){return(k=Object(_.a)(S.a.mark((function a(n){var c,l,u;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),c="",l={method:t},"get"===t?c=new URLSearchParams(n).toString():l=Object(v.a)(Object(v.a)({},l),{},{body:JSON.stringify(n)}),a.prev=4,a.next=7,fetch("".concat(r,"/").concat(e,"?api_key=").concat(i,"&").concat(c),l);case 7:if(200!==(u=a.sent).status){a.next=16;break}return a.t0=d,a.next=12,u.json();case 12:a.t1=a.sent,(0,a.t0)(a.t1),a.next=21;break;case 16:return a.t2=j,a.next=19,u.json();case 19:a.t3=a.sent,(0,a.t2)(a.t3);case 21:a.next=26;break;case 23:a.prev=23,a.t4=a.catch(4),j(a.t4);case 26:return a.prev=26,s(!1),a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[4,23,26,29]])})))).apply(this,arguments)}return[g,o,O,function(e){return k.apply(this,arguments)}]}function y(e,t){var a=Object(n.useState)(t.limit),c=Object(f.a)(a,2),r=c[0],l=(c[1],Object(n.useState)(0)),i=Object(f.a)(l,2),u=i[0],m=i[1],o=Object(n.useState)([]),s=Object(f.a)(o,2),E=s[0],b=s[1],g=w(e,"get",{data:[]}),d=Object(f.a)(g,4),h=d[0],p=d[1],O=d[2],k=d[3],S=w(e,"get",{data:[]}),_=Object(f.a)(S,4),y=_[0],x=_[1],N=_[2],C=_[3];return Object(n.useEffect)((function(){b(y.data)}),[y]),Object(n.useEffect)((function(){k(Object(v.a)(Object(v.a)({},t),{},{offset:u})),m(r)}),[r]),Object(n.useEffect)((function(){var e=h.data;b([].concat(Object(j.a)(E),Object(j.a)(e)))}),[h]),[E,p||x,O||N,function(){k(Object(v.a)(Object(v.a)({},t),{},{offset:u})),m(u+r)},function(e){C(e)}]}var x=a(26),N=a(31),C=a.n(N),F=a(93),L=a(94),I=a(95),T=a(96),G=a(97),J=a(98),M=a(99),P=a(48),q=a.n(P),z=a(18),B=a(49),R=a(33),U=a(19);function W(e){var t=e.giphImage,a=e.giph,r=e.tileClicked,l=e.title,i=Object(n.useState)(!1),u=Object(f.a)(i,2),m=u[0],o=u[1],s=Object(n.useState)(!1),E=Object(f.a)(s,2),b=E[0],g=E[1],d=Object(U.useLocalStorage)("favorite_giphs",[]),h=Object(f.a)(d,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(F.a,{className:"giph-tile-card",key:a.id,onMouseLeave:function(){g(!1)},onMouseOverCapture:function(){g(!0)}},m&&c.a.createElement(L.a,null,c.a.createElement(I.a,{isOpen:m},c.a.createElement(T.a,null,"Link copied to clipboard."))),c.a.createElement(G.a,null,c.a.createElement("div",{style:{position:"relative"},className:"centered"},c.a.createElement("img",{onClick:function(){r(a.id)},width:t.width,height:t.height,src:t.url}),b&&c.a.createElement("div",{className:"centered-element"},c.a.createElement(J.a,{className:"tile-button",onClick:function(e){return t=a.images.original.url,q()(t,{debug:!0}),o(!0),void setTimeout((function(){o(!1)}),3e3);var t}},c.a.createElement(z.a,null)),c.a.createElement(J.a,{className:"tile-button",onClick:function(){r(a.id)}},c.a.createElement(B.a,null)),c.a.createElement(J.a,{className:"tile-button",onClick:function(){!function(e){var t=h.findIndex((function(t){return t.id===e.id}));-1!==t?(h.splice(t,1),Object(U.writeStorage)("favorite_giphs",Object(j.a)(h))):Object(U.writeStorage)("favorite_giphs",[].concat(Object(j.a)(h),[e]))}(a)}},-1!==h.findIndex((function(e){return e.id===a.id}))?c.a.createElement(R.a,null):c.a.createElement(R.b,null))))),l&&c.a.createElement(M.a,null,l)))}var V=a(111),Y=a(102);function H(e){var t=e.giph;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"centered"},c.a.createElement(W,{giph:t,title:t.title,tileClicked:function(){},giphImage:t.images.original})),c.a.createElement("br",null),c.a.createElement(F.a,null,c.a.createElement(G.a,null,c.a.createElement(u.a,null,c.a.createElement(m.a,{md:"2"},"Posted by:"),c.a.createElement(m.a,{md:"4"},c.a.createElement("b",null,t.username)),c.a.createElement(m.a,{md:"2"},"Source:"),c.a.createElement(m.a,{md:"4"},c.a.createElement("a",{target:"_blank",href:t.source?t.source:"no source"},t.source))),c.a.createElement(u.a,null,c.a.createElement(m.a,{md:"2"},"Imported:"),c.a.createElement(m.a,{md:"4"},c.a.createElement("b",null,t.import_datetime)),c.a.createElement(m.a,{md:"2"},"Trending:"),c.a.createElement(m.a,{md:"4"},c.a.createElement("b",null,t.trending_datetime))))))}function K(e){var t=e.giphs,a=e.isLoadingGifs,r=Object(n.useState)(!1),l=Object(f.a)(r,2),i=l[0],u=l[1],m=Object(n.useState)({}),o=Object(f.a)(m,2),s=o[0],E=o[1];return c.a.createElement(c.a.Fragment,null,!t.length&&!a&&c.a.createElement("div",{className:"centered"},c.a.createElement("h1",null,"Upss... can't find any giphs.")),c.a.createElement(p.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,550:2,750:3,950:4,1150:5,1350:6}},c.a.createElement(O.a,{gutter:"4"},t.map((function(e){return c.a.createElement(W,{giph:e,key:e.id,tileClicked:function(e){!function(e){E(t.find((function(t){return t.id===e}))),u(!0)}(e)},giphImage:e.images.fixed_width_downsampled})})))),a&&c.a.createElement("div",{className:"centered"},c.a.createElement(C.a,{type:"cubes",width:"200px",color:"blue"})),c.a.createElement(V.a,{toggle:function(){u(!i)},size:"lg",isOpen:i},c.a.createElement(Y.a,null,c.a.createElement(H,{giph:s}))))}function X(e){Object(h.a)(e);var t=y("gifs/trending",{limit:30,rating:"g"}),a=Object(f.a)(t,4),n=a[0],r=a[1],l=(a[2],a[3]);return Object(x.a)((function(){l()})),c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Trending"),c.a.createElement(K,{giphs:n,isLoadingGifs:r}))}var $=a(103),A=a(112),D=a(104),Q=a(50);function Z(e){Object(h.a)(e);var t=Object(n.useState)({limit:30,rating:"g",q:"awesome"}),a=Object(f.a)(t,2),r=a[0],l=a[1],i=y("gifs/search",r),u=Object(f.a)(i,5),m=u[0],o=u[1],s=(u[2],u[3]),E=u[4];Object(x.a)((function(){s()})),Object(n.useEffect)((function(){E(r)}),[r]);var b=Object(Q.debounce)((function(e){l(Object(v.a)(Object(v.a)({},r),{},{q:e}))}),300);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Search"),c.a.createElement($.a,{size:"lg"},c.a.createElement(A.a,{addonType:"prepend"},c.a.createElement(J.a,null,c.a.createElement(z.b,null))),c.a.createElement(D.a,{defaultValue:r.q,onKeyUp:function(e){b(e.target.value)}})),c.a.createElement(K,{giphs:m,isLoadingGifs:o}))}function ee(e){Object(h.a)(e);var t=Object(U.useLocalStorage)("favorite_giphs",[]),a=Object(f.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Your favorite giphs"),c.a.createElement(K,{giphs:a}))}function te(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(d.c,null,c.a.createElement(d.a,{path:"/",exact:!0},c.a.createElement(X,null)),c.a.createElement(d.a,{path:"/trending",exact:!0},c.a.createElement(X,null)),c.a.createElement(d.a,{path:"/search",exact:!0},c.a.createElement(Z,null)),c.a.createElement(d.a,{path:"/favorites",exact:!0},c.a.createElement(ee,null))))}var ae=a(20),ne=a(36);function ce(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae.a,{basename:"/gg_react_take_home"},c.a.createElement(o.a,null,c.a.createElement(s.a,{href:"/gg_react_take_home"},"giphy_search!"),c.a.createElement(E.a,{className:"mr-auto"},c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement(ae.b,{to:"/trending/"},c.a.createElement(ne.b,null)," Trending"))),c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement(ae.b,{to:"/search/"},c.a.createElement(z.b,null)," Search"))),c.a.createElement(b.a,null,c.a.createElement(g.a,null,c.a.createElement(ae.b,{to:"/favorites/"},c.a.createElement(ne.a,null)," Favorites"))))),c.a.createElement(te,null)))}var re=function(){return c.a.createElement(i.a,{fluid:!0},c.a.createElement(u.a,null,c.a.createElement(m.a,{md:"2"}),c.a.createElement(m.a,{md:"8"},c.a.createElement(ce,null)),c.a.createElement(m.a,{md:"2"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.e843de2a.chunk.js.map