(this.webpackJsonpgg_react_take_home=this.webpackJsonpgg_react_take_home||[]).push([[0],{52:function(e,t,a){e.exports=a(92)},57:function(e,t,a){},58:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(15),l=a.n(r),i=(a(57),a(110)),u=a(100),o=a(101),m=(a(58),a(59),a(105)),s=a(106),E=a(107),d=a(108),b=a(109),g=a(9),f=a(7),h=a(16),O=a(25),p=a.n(O),j=a(21),v=a(13),_=a(32),S=a.n(_),k=a(46);function w(e,t,a){var c=Object(n.useState)("https://api.giphy.com/v1"),r=Object(f.a)(c,1)[0],l=Object(n.useState)("JhchPz8vYFWE8wE3r3RHCcnVa2EGusXe"),i=Object(f.a)(l,1)[0],u=Object(n.useState)(!1),o=Object(f.a)(u,2),m=o[0],s=o[1],E=Object(n.useState)(a),d=Object(f.a)(E,2),b=d[0],g=d[1],h=Object(n.useState)(null),O=Object(f.a)(h,2),p=O[0],j=O[1];function _(){return(_=Object(k.a)(S.a.mark((function a(n){var c,l,u;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(!0),c="",l={method:t},"get"===t?c=new URLSearchParams(n).toString():l=Object(v.a)(Object(v.a)({},l),{},{body:JSON.stringify(n)}),a.prev=4,a.next=7,fetch("".concat(r,"/").concat(e,"?api_key=").concat(i,"&").concat(c),l);case 7:if(200!==(u=a.sent).status){a.next=16;break}return a.t0=g,a.next=12,u.json();case 12:a.t1=a.sent,(0,a.t0)(a.t1),a.next=21;break;case 16:return a.t2=j,a.next=19,u.json();case 19:a.t3=a.sent,(0,a.t2)(a.t3);case 21:a.next=26;break;case 23:a.prev=23,a.t4=a.catch(4),j(a.t4);case 26:return a.prev=26,s(!1),a.finish(26);case 29:case"end":return a.stop()}}),a,null,[[4,23,26,29]])})))).apply(this,arguments)}return[b,m,p,function(e){return _.apply(this,arguments)}]}function y(e,t){var a=Object(n.useState)(t.limit),c=Object(f.a)(a,2),r=c[0],l=(c[1],Object(n.useState)(0)),i=Object(f.a)(l,2),u=i[0],o=i[1],m=Object(n.useState)([]),s=Object(f.a)(m,2),E=s[0],d=s[1],b=w(e,"get",{data:[]}),g=Object(f.a)(b,4),h=g[0],O=g[1],p=g[2],_=g[3],S=w(e,"get",{data:[]}),k=Object(f.a)(S,4),y=k[0],x=k[1],C=k[2],T=k[3];return Object(n.useEffect)((function(){d(y.data)}),[y]),Object(n.useEffect)((function(){_(Object(v.a)(Object(v.a)({},t),{},{offset:u})),o(r)}),[r]),Object(n.useEffect)((function(){var e=h.data;d([].concat(Object(j.a)(E),Object(j.a)(e)))}),[h]),[E,O||x,p||C,function(){_(Object(v.a)(Object(v.a)({},t),{},{offset:u})),o(u+r)},function(e){T(e)}]}var x=a(26),C=a(31),T=a.n(C),N=a(93),L=a(94),F=a(95),P=a(96),I=a(97),R=a(98),U=a(99),W=a(48),B=a.n(W),A=a(18),D=a(49),G=a(33),H=a(19);function J(e){var t=e.giphImage,a=e.giph,r=e.tileClicked,l=e.title,i=Object(n.useState)(!1),u=Object(f.a)(i,2),o=u[0],m=u[1],s=Object(n.useState)(!1),E=Object(f.a)(s,2),d=E[0],b=E[1],g=Object(H.useLocalStorage)("favorite_giphs",[]),h=Object(f.a)(g,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.a,{key:a.id,onMouseLeave:function(){b(!1)},onMouseOverCapture:function(){b(!0)}},o&&c.a.createElement(L.a,null,c.a.createElement(F.a,{isOpen:o},c.a.createElement(P.a,null,"Link copied to clipboard."))),c.a.createElement(I.a,null,c.a.createElement("div",{style:{position:"relative"},className:"centered"},c.a.createElement("img",{onClick:function(){r(a.id)},width:t.width,height:t.height,src:t.url}),d&&c.a.createElement("div",{className:"centered-element"},c.a.createElement(R.a,{className:"tile-button",onClick:function(e){return t=a.images.original.url,B()(t,{debug:!0}),m(!0),void setTimeout((function(){m(!1)}),3e3);var t}},c.a.createElement(A.a,null)),c.a.createElement(R.a,{className:"tile-button",onClick:function(){r(a.id)}},c.a.createElement(D.a,null)),c.a.createElement(R.a,{className:"tile-button",onClick:function(){!function(e){var t=h.findIndex((function(t){return t.id===e.id}));-1!==t?(h.splice(t,1),Object(H.writeStorage)("favorite_giphs",Object(j.a)(h))):Object(H.writeStorage)("favorite_giphs",[].concat(Object(j.a)(h),[e]))}(a)}},-1!==h.findIndex((function(e){return e.id===a.id}))?c.a.createElement(G.a,null):c.a.createElement(G.b,null))))),l&&c.a.createElement(U.a,null,l)))}var K=a(111),M=a(102);function q(e){var t=e.giph;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"centered"},c.a.createElement(J,{giph:t,title:t.title,tileClicked:function(){},giphImage:t.images.original})),c.a.createElement("br",null),c.a.createElement(N.a,null,c.a.createElement(I.a,null,c.a.createElement(u.a,null,c.a.createElement(o.a,{md:"2"},"Posted by:"),c.a.createElement(o.a,{md:"4"},c.a.createElement("b",null,t.username)),c.a.createElement(o.a,{md:"2"},"Source:"),c.a.createElement(o.a,{md:"4"},c.a.createElement("a",{target:"_blank",href:t.source?t.source:"no source"},t.source))),c.a.createElement(u.a,null,c.a.createElement(o.a,{md:"2"},"Imported:"),c.a.createElement(o.a,{md:"4"},c.a.createElement("b",null,t.import_datetime)),c.a.createElement(o.a,{md:"2"},"Trending:"),c.a.createElement(o.a,{md:"4"},c.a.createElement("b",null,t.trending_datetime))))))}function z(e){var t=e.giphs,a=e.isLoadingGifs,r=Object(n.useState)(!1),l=Object(f.a)(r,2),i=l[0],u=l[1],o=Object(n.useState)({}),m=Object(f.a)(o,2),s=m[0],E=m[1];return c.a.createElement(c.a.Fragment,null,!t.length&&!a&&c.a.createElement("div",{className:"centered"},c.a.createElement("h1",null,"Upss... can't find any giphs.")),c.a.createElement(O.ResponsiveMasonry,{columnsCountBreakPoints:{350:1,550:2,750:3,950:4,1150:5,1350:6}},c.a.createElement(p.a,{gutter:4},t.map((function(e){return c.a.createElement(J,{giph:e,key:e.id,tileClicked:function(e){!function(e){E(t.find((function(t){return t.id===e}))),u(!0)}(e)},giphImage:e.images.fixed_width_downsampled})})))),a&&c.a.createElement("div",{className:"centered"},c.a.createElement(T.a,{type:"cubes",width:"200px",color:"blue"})),c.a.createElement(K.a,{toggle:function(){u(!i)},size:"lg",isOpen:i},c.a.createElement(M.a,null,c.a.createElement(q,{giph:s}))))}function V(e){Object(h.a)(e);var t=y("gifs/trending",{limit:30,rating:"g"}),a=Object(f.a)(t,4),n=a[0],r=a[1],l=(a[2],a[3]);return Object(x.a)((function(){l()})),c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Trending"),c.a.createElement(z,{giphs:n,isLoadingGifs:r}))}var Y=a(103),X=a(112),$=a(104),Q=a(50);function Z(e){Object(h.a)(e);var t=Object(n.useState)({limit:30,rating:"g",q:"awesome"}),a=Object(f.a)(t,2),r=a[0],l=a[1],i=y("gifs/search",r),u=Object(f.a)(i,5),o=u[0],m=u[1],s=(u[2],u[3]),E=u[4];Object(x.a)((function(){s()})),Object(n.useEffect)((function(){E(r)}),[r]);var d=Object(Q.debounce)((function(e){l(Object(v.a)(Object(v.a)({},r),{},{q:e}))}),300);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Search"),c.a.createElement(Y.a,{size:"lg"},c.a.createElement(X.a,{addonType:"prepend"},c.a.createElement(R.a,null,c.a.createElement(A.b,null))),c.a.createElement($.a,{defaultValue:r.q,onKeyUp:function(e){d(e.target.value)}})),c.a.createElement(z,{giphs:o,isLoadingGifs:m}))}function ee(e){Object(h.a)(e);var t=Object(H.useLocalStorage)("favorite_giphs",[]),a=Object(f.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Your favorite giphs"),c.a.createElement(z,{giphs:a}))}function te(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.c,null,c.a.createElement(g.a,{path:"/",exact:!0},c.a.createElement(V,null)),c.a.createElement(g.a,{path:"/trending",exact:!0},c.a.createElement(V,null)),c.a.createElement(g.a,{path:"/search",exact:!0},c.a.createElement(Z,null)),c.a.createElement(g.a,{path:"/favorites",exact:!0},c.a.createElement(ee,null))))}var ae=a(20),ne=a(36);function ce(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae.a,{basename:"/gg_react_take_home"},c.a.createElement(m.a,null,c.a.createElement(s.a,{href:Object({NODE_ENV:"production",PUBLIC_URL:"/gg_react_take_home",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BASE_URL:"/gg_react_take_home"}).HOST},"giphy_search!"),c.a.createElement(E.a,{className:"mr-auto"},c.a.createElement(d.a,null,c.a.createElement(b.a,null,c.a.createElement(ae.b,{to:"/trending/"},c.a.createElement(ne.b,null)," Trending"))),c.a.createElement(d.a,null,c.a.createElement(b.a,null,c.a.createElement(ae.b,{to:"/search/"},c.a.createElement(A.b,null)," Search"))),c.a.createElement(d.a,null,c.a.createElement(b.a,null,c.a.createElement(ae.b,{to:"/favorites/"},c.a.createElement(ne.a,null)," Favorites"))))),c.a.createElement(te,null)))}var re=function(){return c.a.createElement(i.a,{fluid:!0},c.a.createElement(u.a,null,c.a.createElement(o.a,{md:"2"}),c.a.createElement(o.a,{md:"8"},c.a.createElement(ce,null)),c.a.createElement(o.a,{md:"2"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[52,1,2]]]);
//# sourceMappingURL=main.d42ca5b7.chunk.js.map